function createOption(e,a){let t=document.createElement("option");return t.value=e,t.innerHTML=a,t.classList.add("option"),t}function getEstados(){let e=new XMLHttpRequest;e.open("GET","https://servicodados.ibge.gov.br/api/v1/localidades/estados"),e.onreadystatechange=(()=>{4==e.readyState&&(200==e.status?JSON.parse(e.responseText).map(e=>{document.querySelector(".estado-input").append(createOption(e.id,e.nome))}):console.log(e.responseText))}),e.send()}function getCidades(e){let a=new XMLHttpRequest;a.open("GET",`https://servicodados.ibge.gov.br/api/v1/localidades/estados/${e}/municipios`),a.onreadystatechange=(()=>{if(4==a.readyState)if(200==a.status){let e=document.createElement("option");e.innerHTML="Selecione uma cidade",e.value="",e.classList.add("option"),e.selected=!0,document.querySelector(".cidade-input").innerHTML="",document.querySelector(".cidade-input").disabled=!1,document.querySelector(".cidade-input").append(e),JSON.parse(a.responseText).map(e=>{document.querySelector(".cidade-input").append(createOption(e.id,e.nome))})}else console.log(a.responseText)}),a.send()}$(".cpf-input").mask("000.000.000-00");var SPMaskBehavior=function(e){return 11===e.replace(/\D/g,"").length?"(00) 00000-0000":"(00) 0000-00009"},spOptions={onKeyPress:function(e,a,t,n){t.mask(SPMaskBehavior.apply({},arguments),n)}};function validaCpf(e){if(14==e.length){var a=e.trim();a=(a=(a=a.replace(/\./g,"")).replace("-","")).split("");for(var t=0,n=0,s=!1,i=1;a.length>i;i++)a[i-1]!=a[i]&&(s=!0);if(0==s)return!1;i=0;for(var o=10;a.length-2>i;i++,o--)t+=a[i]*o;if(10==(t=10*t%11)&&(t=0),t!=a[9])return!1;for(i=0,o=11;a.length-1>i;i++,o--)n+=a[i]*o;return 10==(n=10*n%11)&&(n=0),n==a[10]}return!1}function validaEmail(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())}function validateNome(e){return 0==e.length?($(".nome-input-container").addClass(["active","error"]),$(".nome-input-container").append("<span class='error-message'>Insira seu <b class='b'>nome</b></span>"),!1):!(/\d/.test(e)||/[^a-z\sáàâãéèêíïóôõöúçñÁÀÂÃÉÈÍÏÓÔÕÖÚÇÑ]/i.test(e)||e.length<2)||($(".nome-input-container").addClass("error"),$(".nome-input-container").append("<span class='error-message'><b class='b'>Nome</b> inválido</span>"),!1)}function validateTelefone(e){return 0==e.length?($(".telefone-input-container").addClass(["active","error"]),$(".telefone-input-container").append("<span class='error-message'>Insira seu <b class='b'>telefone</b></span>"),!1):14===e.length||15===e.length||($(".telefone-input-container").addClass("error"),$(".telefone-input-container").append("<span class='error-message'><b class='b'>Telefone</b> inválido</span>"),!1)}function validateCpf(e){return 0==e.length?($(".cpf-input-container").addClass(["active","error"]),$(".cpf-input-container").append("<span class='error-message'>Insira seu <b class='b'>CPF</b></span>"),!1):!!validaCpf(e)||($(".cpf-input-container").addClass("error"),$(".cpf-input-container").append("<span class='error-message'><b class='b'>CPF</b> inválido</span>"),!1)}function validateEmail(e){return 0==e.length?($(".email-input-container").addClass(["active","error"]),$(".email-input-container").append("<span class='error-message'>Insira seu <b class='b'>e-mail</b></span>"),!1):!!validaEmail(e)||($(".email-input-container").addClass("error"),$(".email-input-container").append("<span class='error-message'><b class='b'>E-mail</b> inválido</span>"),!1)}function validateObrigatorio(e){return""!=$(`.${e}-input`).val()&&null!=$(`.${e}-input`).val()||($(`.${e}-input-container`).addClass("error"),$(`.${e}-input-container`).append(`<span class='error-message'>Insira ${"estado"==e?"seu":"sua"} <b class='b'>${e}</b></span>`),!1)}$(".telefone-input").mask(SPMaskBehavior,spOptions),$(".input").on("change keydown",function(){$(this).parent().removeClass("error"),$(this).parent().find(".error-message").remove()}),$(document).ready(function(){function e(e){$("#cadastro-page .list .item").removeClass("active"),$(`#cadastro-page .list .item:nth-child(${e})`).addClass("active"),$(".step").fadeOut(500).promise().done(()=>$(`.step-${e}`).css("display","flex").fadeIn(500)),3==e?$(".subtitle").html("<strong class='strong'>Obrigado</strong>"):$(".subtitle").html("Crie <strong class='strong'>sua conta</strong>")}void 0!==$(".depo-slider").slick&&$(".depo-slider").slick({vertical:!0,slidesToShow:3,infinite:!1,draggable:!1,prevArrow:'<span class="depo-arrows" id="depo-prev-arrow"><i class="fas fa-sm fa-chevron-up"></i></span>',nextArrow:'<span class="depo-arrows" id="depo-next-arrow"><i class="fas fa-sm fa-chevron-down"></i></span>',responsive:[{breakpoint:1050,settings:{slidesToShow:1,draggable:!0}}]}),void 0!==$(".slick-track").lightGallery&&$(".slick-track").lightGallery(),$(".modal .input").focus(function(){$(this).parent().addClass("active")}),$(".modal .input").blur(function(){""===$(this).val()&&$(this).parent().removeClass("active"),$(this).parent().find(".error-message-nome-").removeClass("active")}),$(".modal .form").submit(function(e){e.preventDefault();let a=validateNome($(this).find($("#nome")).val()),t=validateTelefone($(this).find($("#telefone")).val()),n=validateCpf($(this).find($("#cpf")).val());a&&t&&n&&($(".modal .content .before").css("display","none"),$(".modal .content .after").css("display","flex"))}),$("#cadastro-page .list .item:nth-child(1)").click(function(){e(1)}),$(".select-step-2, .item:nth-child(2)").click(function(a){a.preventDefault();let t=validateNome($(".step-1").find($("#nome")).val()),n=validateTelefone($(".step-1").find($("#celular")).val()),s=validateEmail($(".step-1").find($("#email")).val());t&&n&&s&&(e(2),getEstados())}),$(".select-step-3, .item:nth-child(3)").click(function(a){a.preventDefault();let t=validateCpf($(".step-2").find($("#cpf")).val()),n=validateObrigatorio("estado"),s=validateObrigatorio("cidade");t&&n&&s&&e(3)}),$(".estado-input").change(function(){getCidades(this.value)}),$(document).keydown(function(e){"Escape"===e.key&&$(".modal").removeClass("active")}),$(document).mouseup(function(e){var a=$(".modal .content");a.is(e.target)||0!==a.has(e.target).length||$(".modal").removeClass("active")}),$(".modal .close-icon").mouseup(function(e){$(".modal").removeClass("active")}),document.addEventListener("mouseout",e=>{e.toElement||e.relatedTarget||setTimeout(()=>{localStorage.getItem("openedModal")||$(".modal").addClass("active"),localStorage.setItem("openedModal",!0)},500)})});